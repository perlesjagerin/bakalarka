@startuml
!define RECTANGLE class

skinparam backgroundColor #FEFEFE
skinparam defaultFontSize 11
skinparam componentStyle rectangle
skinparam linetype polyline

title Třívrstvá architektura aplikace

package "Prezentační vrstva" <<Frame>> {
    component "React Frontend" as React
    component "Stripe Elements" as StripeUI
}

package "API vrstva" <<Frame>> {
    component "Express.js Backend" as Backend
}

package "Datová vrstva" <<Frame>> {
    database "PostgreSQL" as DB
}

package "Externí služby" <<Frame>> {
    component "Stripe API" as Stripe
    component "Email služba" as Email
}

' Vztahy
React -down-> Backend : REST API
StripeUI -down-> Stripe : Platby
Backend -down-> DB : Prisma ORM
Backend -right-> Stripe : Payment Intent API
Backend -right-> Email : Notifikace
Stripe -up-> Backend : Webhooky

@enduml
